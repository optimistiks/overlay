{"version":3,"sources":["streamelements.js","Overlay.tsx","index.tsx","Overlay.module.css"],"names":["log","debug","Overlay","useState","data","setData","useEffect","window","onWidgetLoadInitialData","initOverlay","addEventListener","obj","detail","event","itemId","listener","split","recents","sort","a","b","Date","parse","createdAt","currency","fieldData","eventsLimit","includeFollowers","includeRedemptions","includeHosts","minHost","includeRaids","minRaid","includeSubs","includeTips","minTip","includeCheers","minCheer","direction","locale","textOrder","fadeoutTime","className","styles","text","console","bind","enable","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"iMAEMA,EAAMC,IAAM,kB,WCGZD,EAAMC,IAAM,WAEX,SAASC,IACd,MAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAcA,OAbAC,qBAAU,WACJC,OAAOC,yBACTR,EAAI,2BAA4B,CAAEI,KAAMG,OAAOC,0BAC/CH,EAAQE,OAAOC,2BAEfR,EAAI,yBACJO,OAAOE,YAAcJ,GDUzBE,OAAOG,iBAAiB,mBAAmB,SAAUC,GACnDX,EAAI,qBAAsB,CAAEW,QAEvBA,EAAIC,OAAOC,QAIuB,qBAA5BF,EAAIC,OAAOC,MAAMC,SAC1BH,EAAIC,OAAOG,SAAW,qBAGPJ,EAAIC,OAAOG,SAASC,MAAM,KAAK,GAClCL,EAAIC,OAAOC,UAG3BN,OAAOG,iBAAiB,gBAAgB,SAAUC,GAChDX,EAAI,kBAAmB,CAAEW,QAEXA,EAAIC,OAAOK,QAEjBC,MAAK,SAAUC,EAAGC,GACxB,OAAOC,KAAKC,MAAMH,EAAEI,WAAaF,KAAKC,MAAMF,EAAEG,cAGjCZ,EAAIC,OAAOY,SAE1B,IAAMC,EAAYd,EAAIC,OAAOa,UAEfA,EAAUC,YACLD,EAAUE,iBACRF,EAAUG,mBAChBH,EAAUI,aACfJ,EAAUK,QACLL,EAAUM,aACfN,EAAUO,QACNP,EAAUQ,YACVR,EAAUS,YACfT,EAAUU,OACHV,EAAUW,cACfX,EAAUY,SACTZ,EAAUa,UACTb,EAAUc,OACXd,EAAUe,UACRf,EAAUgB,iBClDvB,IACHnC,qBAAU,WACRN,EAAI,qBAAsBI,KACzB,CAACA,IAEF,8BACE,qBAAKsC,UAAWC,IAAOC,KAAvB,2BClBN3C,IAAMD,IAAM6C,QAAQ7C,IAAI8C,KAAKD,SAC7B5C,IAAM8C,OAAO,KAEbC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAChD,EAAD,MAEFiD,SAASC,eAAe,U,kBCZ1BC,EAAOC,QAAU,CAAC,KAAO,yB","file":"static/js/main.b6e1d40a.chunk.js","sourcesContent":["import debug from \"debug\";\n\nconst log = debug(\"streamelements\");\n\nexport function listenEvents() {\n  let eventsLimit = 5,\n    userLocale = \"en-US\",\n    includeFollowers = true,\n    includeRedemptions = true,\n    includeHosts = true,\n    minHost = 0,\n    includeRaids = true,\n    minRaid = 0,\n    includeSubs = true,\n    includeTips = true,\n    minTip = 0,\n    includeCheers = true,\n    direction = \"top\",\n    textOrder = \"nameFirst\",\n    minCheer = 0,\n    fadeoutTime = 0;\n\n  let userCurrency,\n    totalEvents = 0;\n\n  window.addEventListener(\"onEventReceived\", function (obj) {\n    log(\"onEventReceived %O\", { obj });\n\n    if (!obj.detail.event) {\n      return;\n    }\n\n    if (typeof obj.detail.event.itemId !== \"undefined\") {\n      obj.detail.listener = \"redemption-latest\";\n    }\n\n    const listener = obj.detail.listener.split(\"-\")[0];\n    const event = obj.detail.event;\n  });\n\n  window.addEventListener(\"onWidgetLoad\", function (obj) {\n    log(\"onWidgetLoad %O\", { obj });\n\n    let recents = obj.detail.recents;\n\n    recents.sort(function (a, b) {\n      return Date.parse(a.createdAt) - Date.parse(b.createdAt);\n    });\n\n    userCurrency = obj.detail.currency;\n\n    const fieldData = obj.detail.fieldData;\n\n    eventsLimit = fieldData.eventsLimit;\n    includeFollowers = fieldData.includeFollowers === \"yes\";\n    includeRedemptions = fieldData.includeRedemptions === \"yes\";\n    includeHosts = fieldData.includeHosts === \"yes\";\n    minHost = fieldData.minHost;\n    includeRaids = fieldData.includeRaids === \"yes\";\n    minRaid = fieldData.minRaid;\n    includeSubs = fieldData.includeSubs === \"yes\";\n    includeTips = fieldData.includeTips === \"yes\";\n    minTip = fieldData.minTip;\n    includeCheers = fieldData.includeCheers === \"yes\";\n    minCheer = fieldData.minCheer;\n    direction = fieldData.direction;\n    userLocale = fieldData.locale;\n    textOrder = fieldData.textOrder;\n    fadeoutTime = fieldData.fadeoutTime;\n  });\n}\n","import React, { useEffect, useState } from \"react\";\nimport debug from \"debug\";\nimport styles from \"./Overlay.module.css\";\nimport { listenEvents } from \"./streamelements\";\n\nconst log = debug(\"overlay\");\n\nexport function Overlay() {\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    if (window.onWidgetLoadInitialData) {\n      log(\"found data in window, %O\", { data: window.onWidgetLoadInitialData });\n      setData(window.onWidgetLoadInitialData);\n    } else {\n      log(\"put setData to window\");\n      window.initOverlay = setData;\n    }\n    listenEvents();\n  }, []);\n  useEffect(() => {\n    log(\"data is updated %O\", data);\n  }, [data]);\n  return (\n    <div>\n      <div className={styles.text}>hello world</div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport debug from \"debug\";\nimport { Overlay } from \"./Overlay\";\n// import reportWebVitals from './reportWebVitals';\n\ndebug.log = console.log.bind(console);\ndebug.enable(\"*\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <Overlay />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Overlay_text__3ghdn\"};"],"sourceRoot":""}